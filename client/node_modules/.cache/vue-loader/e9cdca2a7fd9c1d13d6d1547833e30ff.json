{"remainingRequest":"/Users/victor/Desktop/RPDashboard/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/victor/Desktop/RPDashboard/client/src/components/OrderList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/victor/Desktop/RPDashboard/client/src/components/OrderList.vue","mtime":1590005631110},{"path":"/Users/victor/Desktop/RPDashboard/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/victor/Desktop/RPDashboard/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/victor/Desktop/RPDashboard/client/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/victor/Desktop/RPDashboard/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/victor/Desktop/RPDashboard/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBPcmRlckRhdGFTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL09yZGVyRGF0YVNlcnZpY2UiOwppbXBvcnQgeyBtYXBNaXhpbiB9IGZyb20gIi4uL21hcE1peGluIjsKaW1wb3J0IGxvY2F0aW9uTWFwIGZyb20gIi4uL2NvbXBvbmVudHMvbG9jYXRpb25NYXAiOwppbXBvcnQgbW9kYWwgZnJvbSAiLi4vY29tcG9uZW50cy9tb2RhbCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgbW9kYWwsCiAgICBsb2NhdGlvbk1hcCwKICB9LAogIG1peGluczogW21hcE1peGluXSwKICBuYW1lOiAib3JkZXJzLWxpc3QiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1Zpc2liaWxpdHk6IGZhbHNlLAogICAgICBpc01hcFZpc2libGU6IGZhbHNlLAogICAgICBleHBhbmRlZDogW10sCiAgICAgIHNpbmdsZUV4cGFuZDogZmFsc2UsCiAgICAgIG9yZGVyczogW10sCiAgICAgIGN1cnJlbnRPcmRlcjogbnVsbCwKICAgICAgY3VycmVudEluZGV4OiAtMSwKICAgICAgZGVzY3JpcHRpb246ICIiLAogICAgICBjdXJyZW50RmlsdGVyOiAxLAogICAgICBsYXQ6IDAsCiAgICAgIGxuZzogMCwKICAgICAgb3JkZXJTdGF0dXM6IFsKICAgICAgICB7IG9yZGVyU3RhdHVzSWQ6IDEsIG5hbWU6ICJPcmRlcmVkIiB9LAogICAgICAgIHsgb3JkZXJTdGF0dXNJZDogMiwgbmFtZTogIlByb2Nlc3NpbmciIH0sCiAgICAgICAgeyBvcmRlclN0YXR1c0lkOiAzLCBuYW1lOiAiU2hpcHBlZCIgfSwKICAgICAgICB7IG9yZGVyU3RhdHVzSWQ6IDQsIG5hbWU6ICJSZWNpZXZlZCIgfSwKICAgICAgXSwKICAgICAgaGVhZGVyczogWwogICAgICAgIHsKICAgICAgICAgIHRleHQ6ICJPcmRlciBOdW1iZXIiLAogICAgICAgICAgYWxpZ246ICJzdGFydCIsCiAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgICB2YWx1ZTogIm9yZGVySWQiLAogICAgICAgIH0sCiAgICAgICAgeyB0ZXh0OiAiRGVzY3JpcHRpb24iLCB2YWx1ZTogIm9yZGVyRGVzY3JpcHRpb24iIH0sCiAgICAgICAgeyB0ZXh0OiAiQ3JlYXRlZCBPbiIsIHZhbHVlOiAiY3JlYXRlZERhdGUiLCB2YWx1ZVR5cGU6ICJkYXRlIiB9LAogICAgICAgIHsgdGV4dDogIiIsIHZhbHVlOiAiZGF0YS10YWJsZS1leHBhbmQiIH0sCiAgICAgIF0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY29udmVydERhdGVUaW1lKGRhdGVUaW1lKSB7CiAgICAgIHJldHVybiBkYXRlVGltZS5zcGxpdCgiVCIpWzBdOwogICAgfSwKICAgIGNvbnZlcnRTaGlwcGluZ0FkZHJlc3NJZChpZCkgewogICAgICB2YXIgYWRkcmVzczsKICAgICAgc3dpdGNoIChpZCkgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIGFkZHJlc3MgPSAiMTQwMCBJbnRlcm5hdGlvbmFsIFBrd3kgUywgTGFrZSBNYXJ5LCBGTCwgMzI3NDYiOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAyOgogICAgICAgICAgYWRkcmVzcyA9ICIyNzAwIFdlc3RoYWxsIExuLCBNYWl0bGFuZCwgRkwsIDMyNzUxIjsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIHJldHVybiBhZGRyZXNzOwogICAgfSwKICAgIGNvbnZlcnRPcmRlclN0YXR1c0lkKGlkKSB7CiAgICAgIHZhciBvcmRlclN0YXR1czsKICAgICAgc3dpdGNoIChpZCkgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIG9yZGVyU3RhdHVzID0gIk9yZGVyZWQiOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAyOgogICAgICAgICAgb3JkZXJTdGF0dXMgPSAiUHJvY2Vzc2luZyI7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDM6CiAgICAgICAgICBvcmRlclN0YXR1cyA9ICJTaGlwcGVkIjsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNDoKICAgICAgICAgIG9yZGVyU3RhdHVzID0gIlJlY2lldmVkIjsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIHJldHVybiBvcmRlclN0YXR1czsKICAgIH0sCiAgICB0b2dnbGVNb2RhbCgpIHsKICAgICAgdGhpcy5pc1Zpc2liaWxpdHkgPSAhdGhpcy5pc1Zpc2liaWxpdHk7CiAgICB9LAogICAgYXN5bmMgdG9nZ2xlTWFwKGFkZHJlc3MpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0TGF0TG5nKGFkZHJlc3MpOwogICAgICAgIGNvbnN0IGxvYyA9IHJlc3BvbnNlLmRhdGEucmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbjsKICAgICAgICB0aGlzLmxhdCA9IGxvYy5sYXQ7CiAgICAgICAgdGhpcy5sbmcgPSBsb2MubG5nOwogICAgICAgIHRoaXMuaXNNYXBWaXNpYmxlID0gdHJ1ZTsKICAgICAgfSBjYXRjaCAoZXgpIHsKICAgICAgICBjb25zb2xlLmxvZyhleCk7CiAgICAgIH0KICAgIH0sCiAgICByZXRyaWV2ZU9yZGVycyhmaWx0ZXIpIHsKICAgICAgdGhpcy5jdXJyZW50RmlsdGVyID0gZmlsdGVyOwoKICAgICAgT3JkZXJEYXRhU2VydmljZS5maW5kQnlPcmRlclN0YXR1c0lkKHRoaXMuY3VycmVudEZpbHRlcikKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMub3JkZXJzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgfSk7CiAgICAgIHRoaXMuaXNNYXBWaXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgcmVmcmVzaExpc3QoKSB7CiAgICAgIHRoaXMucmV0cmlldmVPcmRlcnMoKTsKICAgICAgdGhpcy5jdXJyZW50T3JkZXIgPSBudWxsOwogICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IC0xOwogICAgfSwKICAgIHNldEFjdGl2ZU9yZGVyKG9yZGVyLCBpbmRleCkgewogICAgICB0aGlzLmN1cnJlbnRPcmRlciA9IG9yZGVyOwogICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGluZGV4OwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnJldHJpZXZlT3JkZXJzKHRoaXMuY3VycmVudEZpbHRlcik7CiAgfSwKfTsK"},{"version":3,"sources":["OrderList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OrderList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container>\n    <v-col>\n      <v-row>\n        <v-tooltip top>\n          <template v-slot:activator=\"{ on }\">\n            <div v-on=\"on\">\n              <v-select\n                :items=\"orderStatus\"\n                v-model=\"currentFilter\"\n                item-text=\"name\"\n                label=\"Filter Order Status\"\n                item-value=\"orderStatusId\"\n                v-on:change=\"retrieveOrders(currentFilter)\"\n                dense\n                solo\n              ></v-select>\n            </div>\n          </template>\n          <span>Filter Status</span>\n        </v-tooltip>\n        <v-spacer></v-spacer>\n        <modal v-if=\"isVisibility\" @toggle-modal=\"toggleModal\"></modal>\n        <v-btn @click.prevent=\"toggleModal\">\n          Create Order\n        </v-btn>\n      </v-row>\n      <br />\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"orders\"\n        item-key=\"orderId\"\n        :items-per-page=\"5\"\n        show-expand\n      >\n        <template v-slot:item.createdDate=\"{ item }\">\n          <span>{{ convertDateTime(item.createdDate) }}</span>\n        </template>\n        <template v-slot:top>\n          <v-toolbar flat>\n            <v-toolbar-title>Orders</v-toolbar-title>\n            <v-spacer></v-spacer>\n          </v-toolbar>\n        </template>\n        <template v-slot:expanded-item=\"{ headers, item }\">\n          <td>\n            <strong>Order Status:</strong>\n            {{ convertOrderStatusId(item.orderStatusId) }}\n          </td>\n          <td>\n            <strong>Shipping Address:</strong>\n            {{\n              item.shippingAddressId\n                ? convertShippingAddressId(item.shippingAddressId)\n                : \"No shipping address specified\"\n            }}\n          </td>\n          <td>\n            <strong>Shipped On:</strong>\n            {{\n              item.shippedDate\n                ? convertDateTime(item.shippedDate)\n                : \"Order has not shipped\"\n            }}\n          </td>\n          <td>\n            <v-btn\n              text\n              small\n              color=\"primary\"\n              v-if=\"item.shippingAddressId\"\n              v-on:click=\"\n                toggleMap(convertShippingAddressId(item.shippingAddressId))\n              \"\n            >\n              Locate\n            </v-btn>\n          </td>\n        </template>\n      </v-data-table>\n      <locationMap\n        :lat=\"lat\"\n        :lng=\"lng\"\n        v-if=\"isMapVisible\"\n        @toggle-map=\"toggleMap\"\n      ></locationMap>\n    </v-col>\n  </v-container>\n</template>\n\n<script>\nimport OrderDataService from \"../services/OrderDataService\";\nimport { mapMixin } from \"../mapMixin\";\nimport locationMap from \"../components/locationMap\";\nimport modal from \"../components/modal\";\n\nexport default {\n  components: {\n    modal,\n    locationMap,\n  },\n  mixins: [mapMixin],\n  name: \"orders-list\",\n  data() {\n    return {\n      isVisibility: false,\n      isMapVisible: false,\n      expanded: [],\n      singleExpand: false,\n      orders: [],\n      currentOrder: null,\n      currentIndex: -1,\n      description: \"\",\n      currentFilter: 1,\n      lat: 0,\n      lng: 0,\n      orderStatus: [\n        { orderStatusId: 1, name: \"Ordered\" },\n        { orderStatusId: 2, name: \"Processing\" },\n        { orderStatusId: 3, name: \"Shipped\" },\n        { orderStatusId: 4, name: \"Recieved\" },\n      ],\n      headers: [\n        {\n          text: \"Order Number\",\n          align: \"start\",\n          sortable: false,\n          value: \"orderId\",\n        },\n        { text: \"Description\", value: \"orderDescription\" },\n        { text: \"Created On\", value: \"createdDate\", valueType: \"date\" },\n        { text: \"\", value: \"data-table-expand\" },\n      ],\n    };\n  },\n  methods: {\n    convertDateTime(dateTime) {\n      return dateTime.split(\"T\")[0];\n    },\n    convertShippingAddressId(id) {\n      var address;\n      switch (id) {\n        case 1:\n          address = \"1400 International Pkwy S, Lake Mary, FL, 32746\";\n          break;\n        case 2:\n          address = \"2700 Westhall Ln, Maitland, FL, 32751\";\n          break;\n      }\n      return address;\n    },\n    convertOrderStatusId(id) {\n      var orderStatus;\n      switch (id) {\n        case 1:\n          orderStatus = \"Ordered\";\n          break;\n        case 2:\n          orderStatus = \"Processing\";\n          break;\n        case 3:\n          orderStatus = \"Shipped\";\n          break;\n        case 4:\n          orderStatus = \"Recieved\";\n          break;\n      }\n      return orderStatus;\n    },\n    toggleModal() {\n      this.isVisibility = !this.isVisibility;\n    },\n    async toggleMap(address) {\n      try {\n        const response = await this.getLatLng(address);\n        const loc = response.data.results[0].geometry.location;\n        this.lat = loc.lat;\n        this.lng = loc.lng;\n        this.isMapVisible = true;\n      } catch (ex) {\n        console.log(ex);\n      }\n    },\n    retrieveOrders(filter) {\n      this.currentFilter = filter;\n\n      OrderDataService.findByOrderStatusId(this.currentFilter)\n        .then((response) => {\n          this.orders = response.data;\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n      this.isMapVisible = false;\n    },\n    refreshList() {\n      this.retrieveOrders();\n      this.currentOrder = null;\n      this.currentIndex = -1;\n    },\n    setActiveOrder(order, index) {\n      this.currentOrder = order;\n      this.currentIndex = index;\n    },\n  },\n  mounted() {\n    this.retrieveOrders(this.currentFilter);\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"]}]}